-- Flight, Tsunami, and Cheat Script for Testing Anti-Cheat

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local hrp = character:WaitForChild("HumanoidRootPart")
local userInputService = game:GetService("UserInputService")
local runService = game:GetService("RunService")
local replicatedStorage = game:GetService("ReplicatedStorage")

-- UI Setup
local screenGui = Instance.new("ScreenGui", game.CoreGui)
screenGui.Name = "ExploitCheatGui"
screenGui.ResetOnSpawn = false

local toggleFlyButton = Instance.new("TextButton", screenGui)
toggleFlyButton.Size = UDim2.new(0, 200, 0, 50)
toggleFlyButton.Position = UDim2.new(0.5, -100, 0.85, 0)
toggleFlyButton.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
toggleFlyButton.TextColor3 = Color3.new(1, 1, 1)
toggleFlyButton.Text = "Toggle Fly"
toggleFlyButton.Font = Enum.Font.SourceSansBold
toggleFlyButton.TextSize = 18

local toggleTsunamiButton = Instance.new("TextButton", screenGui)
toggleTsunamiButton.Size = UDim2.new(0, 200, 0, 50)
toggleTsunamiButton.Position = UDim2.new(0.5, -100, 0.8, 0)
toggleTsunamiButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
toggleTsunamiButton.TextColor3 = Color3.new(1, 1, 1)
toggleTsunamiButton.Text = "Toggle Tsunami"
toggleTsunamiButton.Font = Enum.Font.SourceSansBold
toggleTsunamiButton.TextSize = 18

local toggleSpeedButton = Instance.new("TextButton", screenGui)
toggleSpeedButton.Size = UDim2.new(0, 200, 0, 50)
toggleSpeedButton.Position = UDim2.new(0.5, -100, 0.75, 0)
toggleSpeedButton.BackgroundColor3 = Color3.fromRGB(255, 165, 0)
toggleSpeedButton.TextColor3 = Color3.new(1, 1, 1)
toggleSpeedButton.Text = "Toggle Speed Hack"
toggleSpeedButton.Font = Enum.Font.SourceSansBold
toggleSpeedButton.TextSize = 18

-- Cheat Variables
local flying = false
local speedHackEnabled = false
local tsunamiActive = false
local speedMultiplier = 3  -- Speed multiplier for walking speed
local flightSpeed = 100  -- Flight speed

local bodyVelocity, bodyGyro

-- Flight Mode
local function toggleFlight()
    flying = not flying
    if flying then
        humanoid.PlatformStand = true
        bodyVelocity = Instance.new("BodyVelocity")
        bodyVelocity.MaxForce = Vector3.new(1e5, 1e5, 1e5)
        bodyVelocity.Velocity = Vector3.zero
        bodyVelocity.Parent = hrp

        bodyGyro = Instance.new("BodyGyro")
        bodyGyro.MaxTorque = Vector3.new(1e5, 1e5, 1e5)
        bodyGyro.CFrame = hrp.CFrame
        bodyGyro.Parent = hrp

        runService.Heartbeat:Connect(function()
            if flying then
                local direction = hrp.CFrame.LookVector * flightSpeed + Vector3.new(0, 2, 0)
                bodyVelocity.Velocity = direction
                bodyGyro.CFrame = hrp.CFrame
            end
        end)
    else
        humanoid.PlatformStand = false
        if bodyVelocity then bodyVelocity:Destroy() end
        if bodyGyro then bodyGyro:Destroy() end
    end
end

-- Speed Hack
local function toggleSpeedHack()
    speedHackEnabled = not speedHackEnabled
    if speedHackEnabled then
        humanoid.WalkSpeed = humanoid.WalkSpeed * speedMultiplier
    else
        humanoid.WalkSpeed = humanoid.WalkSpeed / speedMultiplier
    end
end

-- Tsunami (affects all players)
local function summonTsunami()
    tsunamiActive = not tsunamiActive
    if tsunamiActive then
        -- Create the tsunami effect and damage players
        local tsunami = Instance.new("Part")
        tsunami.Size = Vector3.new(100, 100, 100)
        tsunami.Position = Vector3.new(0, 500, 0)
        tsunami.Anchored = true
        tsunami.CanCollide = false
        tsunami.Parent = workspace

        local function moveTsunami()
            while tsunamiActive do
                tsunami.Position = tsunami.Position - Vector3.new(0, 10, 0)
                for _, player in pairs(game.Players:GetPlayers()) do
                    if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                        local distance = (player.Character.HumanoidRootPart.Position - tsunami.Position).Magnitude
                        if distance < 50 then
                            player:Kick("You were hit by a tsunami!")
                        end
                    end
                end
                wait(0.1)
            end
        end

        -- Start the tsunami movement
        moveTsunami()
    end
end

-- Mobile Flight Control (based on touch)
local function mobileFlightControl()
    local touchStart = nil
    userInputService.TouchMoved:Connect(function(input)
        if flying then
            if touchStart then
                local delta = input.Position - touchStart
                hrp.Velocity = Vector3.new(delta.X, delta.Y, 0) * flightSpeed
            end
        end
    end)

    userInputService.TouchStarted:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.Touch then
            touchStart = input.Position
        end
    end)

    userInputService.TouchEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.Touch then
            touchStart = nil
        end
    end)
end

-- Button Click Handlers
toggleFlyButton.MouseButton1Click:Connect(toggleFlight)
toggleSpeedButton.MouseButton1Click:Connect(toggleSpeedHack)
toggleTsunamiButton.MouseButton1Click:Connect(summonTsunami)

-- Run Mobile Flight Control (only for mobile devices)
if userInputService.TouchEnabled then
    mobileFlightControl()
end
