local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- UI Setup (creating buttons to trigger cheats)
local function createUI()
    local screenGui = Instance.new("ScreenGui")
    screenGui.Parent = player:WaitForChild("PlayerGui")

    -- Create a dropdown menu for selecting a target player
    local targetPlayerDropdown = Instance.new("TextButton")
    targetPlayerDropdown.Size = UDim2.new(0, 200, 0, 50)
    targetPlayerDropdown.Position = UDim2.new(0, 10, 0, 50)  -- Positioning on the left side (fixed)
    targetPlayerDropdown.Text = "Select Target Player"
    targetPlayerDropdown.Parent = screenGui

    -- Function to create a dropdown of players to choose from
    local function updatePlayerList()
        local playerList = ""
        for _, p in pairs(game.Players:GetPlayers()) do
            if p ~= player then
                playerList = playerList .. p.Name .. "\n"
            end
        end
        -- Create a new TextLabel with the list of players to choose from
        local playerListLabel = Instance.new("TextLabel")
        playerListLabel.Size = UDim2.new(0, 200, 0, 200)
        playerListLabel.Position = UDim2.new(0, 10, 0, 110)  -- Positioning on the left side
        playerListLabel.Text = playerList
        playerListLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
        playerListLabel.TextScaled = true
        playerListLabel.Parent = screenGui

        return playerListLabel
    end

    -- Create a list of other players
    local playerListLabel = updatePlayerList()

    -- Pick a player and trigger cheat effects on them
    local targetPlayer = nil

    -- Wait for the player to select a target player (from the list)
    targetPlayerDropdown.MouseButton1Click:Connect(function()
        -- This section might need to be revised to handle choosing the correct player
        local playersList = game.Players:GetPlayers()
        for _, p in pairs(playersList) do
            if p ~= player then
                targetPlayer = p
                print("Target player selected: " .. targetPlayer.Name) -- Debugging output
                break
            end
        end
    end)

    -- Button to make the selected player explode (and kill them)
    local explodeButton = Instance.new("TextButton")
    explodeButton.Size = UDim2.new(0, 200, 0, 50)
    explodeButton.Position = UDim2.new(0, 10, 0, 350)  -- Positioning on the left side (fixed)
    explodeButton.Text = "Explode Selected Player"
    explodeButton.Parent = screenGui

    -- When clicked, it will cause the selected player to explode (and get killed)
    explodeButton.MouseButton1Click:Connect(function()
        if targetPlayer then
            print("Exploding player: " .. targetPlayer.Name)  -- Debugging output
            makePlayerExplode(targetPlayer)
        else
            print("Please select a player first.")  -- Debugging output
        end
    end)
end

-- Function to make another player explode (only affects your client)
local function makePlayerExplode(targetPlayer)
    local character = targetPlayer.Character
    if character then
        -- Create explosion at their position
        local explosion = Instance.new("Explosion")
        explosion.Position = character.HumanoidRootPart.Position
        explosion.BlastRadius = 10
        explosion.BlastPressure = 10000
        explosion.Parent = workspace

        -- Set health to 0 to simulate explosion
        if character:FindFirstChild("Humanoid") then
            local humanoid = character.Humanoid
            humanoid.Health = 0  -- This will "explode" the player
        end
    end
end

createUI()
