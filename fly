-- Cheat Test Script with Advanced Features
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local hrp = character:WaitForChild("HumanoidRootPart")
local userInputService = game:GetService("UserInputService")
local replicatedStorage = game:GetService("ReplicatedStorage")
local runService = game:GetService("RunService")
local workspace = game:GetService("Workspace")

-- GUI Setup
local screenGui = Instance.new("ScreenGui", game.CoreGui)
screenGui.Name = "CheatTestGui"
screenGui.ResetOnSpawn = false

-- Flight Button
local toggleFlyButton = Instance.new("TextButton", screenGui)
toggleFlyButton.Size = UDim2.new(0, 200, 0, 50)
toggleFlyButton.Position = UDim2.new(0.5, -100, 0.85, 0)
toggleFlyButton.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
toggleFlyButton.TextColor3 = Color3.new(1, 1, 1)
toggleFlyButton.Text = "Toggle Fly"
toggleFlyButton.Font = Enum.Font.SourceSansBold
toggleFlyButton.TextSize = 18

-- Speed Button
local toggleSpeedButton = Instance.new("TextButton", screenGui)
toggleSpeedButton.Size = UDim2.new(0, 200, 0, 50)
toggleSpeedButton.Position = UDim2.new(0.5, -100, 0.8, 0)
toggleSpeedButton.BackgroundColor3 = Color3.fromRGB(255, 165, 0)
toggleSpeedButton.TextColor3 = Color3.new(1, 1, 1)
toggleSpeedButton.Text = "Toggle Speed Hack"
toggleSpeedButton.Font = Enum.Font.SourceSansBold
toggleSpeedButton.TextSize = 18

-- Toggleable Menu Visibility
local menuVisible = true
local toggleMenuButton = Instance.new("TextButton", screenGui)
toggleMenuButton.Size = UDim2.new(0, 200, 0, 50)
toggleMenuButton.Position = UDim2.new(0.5, -100, 0.75, 0)
toggleMenuButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
toggleMenuButton.TextColor3 = Color3.new(1, 1, 1)
toggleMenuButton.Text = "Toggle Menu"
toggleMenuButton.Font = Enum.Font.SourceSansBold
toggleMenuButton.TextSize = 18

-- Cheat Variables
local flying = false
local speedHackEnabled = false
local speedMultiplier = 3
local flightSpeed = 100
local meteorsActive = false
local tsunamiActive = false

-- Flight Mode
local bodyVelocity, bodyGyro

local function toggleFlying()
    flying = not flying
    if flying then
        humanoid.PlatformStand = true
        bodyVelocity = Instance.new("BodyVelocity")
        bodyVelocity.MaxForce = Vector3.new(1e5, 1e5, 1e5)
        bodyVelocity.Velocity = Vector3.zero
        bodyVelocity.Parent = hrp

        bodyGyro = Instance.new("BodyGyro")
        bodyGyro.MaxTorque = Vector3.new(1e5, 1e5, 1e5)
        bodyGyro.CFrame = hrp.CFrame
        bodyGyro.Parent = hrp
    else
        humanoid.PlatformStand = false
        if bodyVelocity then bodyVelocity:Destroy() end
        if bodyGyro then bodyGyro:Destroy() end
    end
end

-- Toggle Speed Hack
local function toggleSpeedHack()
    speedHackEnabled = not speedHackEnabled
    if speedHackEnabled then
        humanoid.WalkSpeed = humanoid.WalkSpeed * speedMultiplier
    else
        humanoid.WalkSpeed = humanoid.WalkSpeed / speedMultiplier
    end
end

-- Summon Meteor Impact
local function summonMeteor()
    local meteor = Instance.new("Part")
    meteor.Size = Vector3.new(10, 10, 10)
    meteor.Shape = Enum.PartType.Ball
    meteor.Position = Vector3.new(math.random(-500, 500), 500, math.random(-500, 500))
    meteor.Anchored = true
    meteor.CanCollide = false
    meteor.Color = Color3.fromRGB(255, 0, 0)
    meteor.Parent = workspace

    -- Meteor falling
    local bodyVelocity = Instance.new("BodyVelocity")
    bodyVelocity.MaxForce = Vector3.new(5000, 5000, 5000)
    bodyVelocity.Velocity = Vector3.new(0, -50, 0)
    bodyVelocity.Parent = meteor

    -- Apply damage to the environment and players on impact
    meteor.Touched:Connect(function(hit)
        if hit and hit.Parent then
            local characterHit = hit.Parent:FindFirstChild("Humanoid")
            if characterHit then
                characterHit:TakeDamage(50) -- Damage to player
            end
            hit:Destroy() -- Destroy the part that was hit
        end
    end)

    game.Debris:AddItem(meteor, 5) -- Cleanup after 5 seconds
end

-- Summon Tsunami Impact
local function summonTsunami()
    if tsunamiActive then return end
    tsunamiActive = true

    local tsunami = Instance.new("Part")
    tsunami.Size = Vector3.new(1000, 100, 1000)
    tsunami.Position = Vector3.new(0, 500, 0)
    tsunami.Anchored = true
    tsunami.Color = Color3.fromRGB(0, 0, 255)
    tsunami.Parent = workspace

    -- Tsunami moving toward players
    runService.Heartbeat:Connect(function()
        if tsunamiActive then
            tsunami.Position = tsunami.Position + Vector3.new(0, 0, -1)
            if tsunami.Position.Y < 0 then
                tsunamiActive = false
                tsunami:Destroy()
            end
            -- Apply damage to players caught by tsunami
            for _, player in pairs(game.Players:GetPlayers()) do
                local character = player.Character
                if character and (tsunami.Position - character.HumanoidRootPart.Position).Magnitude < 50 then
                    local humanoid = character:FindFirstChild("Humanoid")
                    if humanoid then
                        humanoid:TakeDamage(20) -- Damage to player
                    end
                end
            end
        end
    end)
end

-- Toggle Menu Visibility
toggleMenuButton.MouseButton1Click:Connect(function()
    menuVisible = not menuVisible
    screenGui.Enabled = menuVisible
end)

-- Event Handlers
toggleFlyButton.MouseButton1Click:Connect(toggleFlying)
toggleSpeedButton.MouseButton1Click:Connect(toggleSpeedHack)

-- Add Meteor and Tsunami Buttons to GUI
local toggleMeteorButton = Instance.new("TextButton", screenGui)
toggleMeteorButton.Size = UDim2.new(0, 200, 0, 50)
toggleMeteorButton.Position = UDim2.new(0.5, -100, 0.7, 0)
toggleMeteorButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
toggleMeteorButton.TextColor3 = Color3.new(1, 1, 1)
toggleMeteorButton.Text = "Summon Meteor"
toggleMeteorButton.Font = Enum.Font.SourceSansBold
toggleMeteorButton.TextSize = 18

toggleMeteorButton.MouseButton1Click:Connect(summonMeteor)

local toggleTsunamiButton = Instance.new("TextButton", screenGui)
toggleTsunamiButton.Size = UDim2.new(0, 200, 0, 50)
toggleTsunamiButton.Position = UDim2.new(0.5, -100, 0.65, 0)
toggleTsunamiButton.BackgroundColor3 = Color3.fromRGB(0, 0, 255)
toggleTsunamiButton.TextColor3 = Color3.new(1, 1, 1)
toggleTsunamiButton.Text = "Summon Tsunami"
toggleTsunamiButton.Font = Enum.Font.SourceSansBold
toggleTsunamiButton.TextSize = 18

toggleTsunamiButton.MouseButton1Click:Connect(summonTsunami)
